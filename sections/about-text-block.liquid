{% if section.blocks.size > 0 %}
  <div class="left-right-image">
   	<div class="left-right-image__wrapper">
    {% for block in section.blocks %}
      {% if block.settings.image != blank %}
         {% if block.settings.layout == 'left' %}
         <div class="left-right-image__left">
             <div class="left-right-image__img">
                 <img class="feature-row__image lazyload"
                   src="{{ block.settings.image | img_url: '1024x464' }}"
                   data-src="{{ img_url }}"
                   data-widths="[360, 540, 720, 900, 1080, 1296, 1512, 1728, 1944, 2048]"
                   data-aspectratio="{{ block.settings.image.aspect_ratio }}"
                   data-sizes="auto"
                   alt="{{ block.settings.image.alt | escape }}">
             </div>
             <div class="left-right-image__text">
                 {% if block.settings.title != blank %}
                   <h2 class="h3">{{ block.settings.title | escape }}</h2>
                 {% endif %}
                 {% if block.settings.text != blank %}
                   <div class="rte-setting featured-row__subtext">{{ block.settings.text }}</div>
                 {% endif %}
                 {% if block.settings.button_label != blank and block.settings.button_link != blank %}
                   <a href="{{ block.settings.button_link }}" class="btn">
                     {{ block.settings.button_label | escape }}
                   </a>
                 {% endif %}
             </div>
         </div>
         {% endif %} <!-- left -->
         {% if block.settings.layout == 'right' %}
         <div class="left-right-image__right">
             <div class="left-right-image__text">
                 {% if block.settings.title != blank %}
                   <h2 class="h3">{{ block.settings.title | escape }}</h2>
                 {% endif %}
                 {% if block.settings.text != blank %}
                   <div class="rte-setting featured-row__subtext">{{ block.settings.text }}</div>
                 {% endif %}
                 {% if block.settings.button_label != blank and block.settings.button_link != blank %}
                   <a href="{{ block.settings.button_link }}" class="btn">
                     {{ block.settings.button_label | escape }}
                   </a>
                 {% endif %}
             </div>
             <div class="left-right-image__img">
                 <img class="feature-row__image lazyload"
                   src="{{ block.settings.image | img_url:'1024x464' }}"
                   data-src="{{ img_url }}"
                   data-widths="[360, 540, 720, 900, 1080, 1296, 1512, 1728, 1944, 2048]"
                   data-aspectratio="{{ block.settings.image.aspect_ratio }}"
                   data-sizes="auto"
                   alt="{{ block.settings.image.alt | escape }}">
             </div>
         </div>
         {% endif %} <!-- left -->

      {% endif %}
    {% endfor %}
    </div>
   </div>

{% endif %}
<style>
  .left-right-image__left,
  .left-right-image__right {
    display: flex;
    justify-content: space-between;
    margin-bottom: 80px;
  }
  img {
    max-width: 100%;
  }
  .left-right-image__img, .left-right-image__text {
    width: 50%;
    padding: 20px;
  }
  .h3 {
    font-family: Muli,sans-serif;
	font-style: normal;
	font-weight: 700;
	display: block;
	margin: 0 0 15px;
	font-size: 35px;
	letter-spacing: 0.2px;
	color: #0b5a68;
  }
  p {
    font-size: 16px;
    line-height: 1.6;
  }
  a.btn {
    font-family: Muli,sans-serif;
	font-style: normal;
	font-weight: 700;
	padding-right: 24px;
	padding-left: 24px;
	font-size: 11px;
	line-height: 1.4;
	letter-spacing: 1px;
	color: #f1f7f6;
	text-align: center;
	text-decoration: none;
	text-transform: uppercase;
	cursor: pointer;
	background: #1d7383;
	border: 0;
    padding: 14px;
  }
  a.btn:hover {
    background: rgba(29, 115, 131, 0.9);
  }
  .featured-row__subtext {
    margin-bottom: 25px;
  }
  @media(max-width: 992px) {
     .left-right-image__left,
    .left-right-image__right {
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
  	.left-right-image__img, .left-right-image__text {
    	width: 100%;
	 }
    .left-right-image__right .left-right-image__img {
      order: 1;
    }
    .left-right-image__right .left-right-image__text {
      order: 2;
    }
  }
</style>
{% schema %}
{
  "name": "Left Right Image",
  "class": "custom-rich-text-section",
  "max_blocks": 6,
  "blocks": [
	{
	 "type": "image",
	 "name": "Image with Text",
	 "settings": [
		{
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
	  {
        "type": "select",
        "id": "layout",
        "label": "Image alignment",
        "default": "left",
        "options": [
          {
            "value": "left",
            "label": "Left"
          },
          {
            "value": "right",
            "label": "Right"
          }
        ]
       },
	   {
            "type": "text",
            "id": "title",
            "label": "Heading",
            "default": "Image with text"
        },
        {
            "type": "richtext",
            "id": "text",
            "label": "Text",
            "default": "<p>Pair large text with an image to give focus to your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>"
         },
		{
            "type": "text",
            "id": "button_label",
            "label": "Button label"
         },
         {
            "type": "url",
            "id": "button_link",
            "label": "Button link"
        }
	 ]
	}
  ]
}

{% endschema %}
